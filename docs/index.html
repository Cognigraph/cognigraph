

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Когниграф &mdash; cognigraph 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> cognigraph
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Когниграф</a></li>
<li><a class="reference internal" href="#id2">Установка программы</a></li>
<li><a class="reference internal" href="#id3">Начало работы с программой</a><ul>
<li><a class="reference internal" href="#id4">Установка входных данных конвеера</a></li>
<li><a class="reference internal" href="#id5">Инициализация конвеера</a></li>
<li><a class="reference internal" href="#id6">Установка прямой модели.</a><ul>
<li><a class="reference internal" href="#id7">Выбор прямой модели и анатомии по умолчанию</a></li>
<li><a class="reference internal" href="#id8">Расчет новой прямой модели</a></li>
<li><a class="reference internal" href="#id9">Импорт новой прямой модели</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id10">Построение конвеера</a><ul>
<li><a class="reference internal" href="#id11">Добавление узла</a></li>
<li><a class="reference internal" href="#id12">Удаление узла</a></li>
<li><a class="reference internal" href="#id13">Сохранение и загрузка конвеера</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id14">Предобработка данных</a></li>
<li><a class="reference internal" href="#id15">Расчет источников</a></li>
<li><a class="reference internal" href="#id16">Визуализация источников и сигналов</a></li>
<li><a class="reference internal" href="#id17">Оценка и визуализация коннективности</a></li>
<li><a class="reference internal" href="#id18">Вывод активности в файл</a></li>
<li><a class="reference internal" href="#id19">Редактор монтажа</a></li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">cognigraph</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Когниграф</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>Когниграф<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Когниграф – это ПО для визуализации и обработки ЭЭГ-сигналов в реальном времени.</p>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="id2">
<h1>Установка программы<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h1>
<p>Инструкции по установке программы можно найти в <a class="reference external" href="https://github.com/Cognigraph/cognigraph/blob/master/README.md">README</a></p>
</div>
<div class="section" id="id3">
<h1>Начало работы с программой<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h1>
<p>Для запуска программы необходимо запустить из терминала команду</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cognigraph
</pre></div>
</div>
<div class="section" id="id4">
<h2>Установка входных данных конвеера<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>После запуска появится графическое окно, разделенное на несколько секций.</p>
<p>Слева находится редактор конвеера обработки, в который уже добавлены некоторые
узлы. Конвеер, загружаемый по умолчанию, решает обратную задачу методом
“бимформер” и отображает найденную активность на коре.</p>
<p>Редактор конвеера разделен на две секции – вернюю и нижнюю.
В верхней части отображены все узлы, входящие в текущий пайплайн.
Если кликнуть на один из узлов конвеера в верхней части редактора,
в нижней части появятся его параметры.</p>
<p>Для начала работы с пайплайном первое, что необходимо сделать, – это
указать источник входных данных.
Для этого необходимо кликнуть в верхней части редактора монтажа по узлу
под названием <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">Source</span> <span class="pre">Node</span></code>, после чего в появившихся настройках в нижней части
редактора необходимо либо выбрать файл со входными данными,
кликнув на клавишу <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">Data...</span></code>, либо поменять режим узла-источника
на чтение из LSL-потока, кликнув по кнопке <code class="docutils literal notranslate"><span class="pre">Source</span> <span class="pre">type</span></code> и выбрав
<code class="docutils literal notranslate"><span class="pre">LSL</span> <span class="pre">stream</span></code> и в открывшемся меню выбрав имя потока.</p>
</div>
<div class="section" id="id5">
<h2>Инициализация конвеера<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>После установки источника входных данных пайплайн необходимо инициализировать,
кликнув по кнопке <code class="docutils literal notranslate"><span class="pre">Initialize</span> <span class="pre">pipeline</span></code> в верхней части главного окна программы.</p>
<p>Инициализация программы необходима для того, чтобы настроить узлы конвеера
под конкретный источник данных. Прежде всего это касается информации об именах
и количестве каналов в данных. При настройке узла <code class="docutils literal notranslate"><span class="pre">Beamformer</span> <span class="pre">Node</span></code>
появится редактор установки прямой модели.</p>
</div>
<div class="section" id="id6">
<h2>Установка прямой модели.<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>В открывшемся редакторе установка прямой модели, адекватной поступившим на
вход данным, может быть произведена несколькими способами,
самый простой из которых — выбрать прямую модель из доступных по умолчанию.</p>
<div class="section" id="id7">
<h3>Выбор прямой модели и анатомии по умолчанию<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Доступные по умолчанию прямые модели вместе с соответствующими файлами анатомии
при первом запуске программы отстутствуют в структуре папок когниграфа.
Программа предложит скачать их из облака при первом запуске редактора прямой модели.
По окончании загрузки выбор прямой модели осуществляется
при нажатых радио-кнопках <code class="docutils literal notranslate"><span class="pre">Use</span> <span class="pre">available</span> <span class="pre">anatomy</span></code> и <code class="docutils literal notranslate"><span class="pre">Use</span> <span class="pre">available</span> <span class="pre">forward</span></code>
переключением трех параметров в секции <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">montage</span> <span class="pre">and</span> <span class="pre">spacing</span></code> редактора:
<code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">montage</span></code>, <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">spacing</span></code> и <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">forward</span></code>.
Первый параметр отвечает за выбор монтажа ЭЭГ-электродов (расположение электродов на
голове испытуемого и их названия), второй — за количество источников на коре, для которых
будет решаться обратная задача, и последний — за выбор прямой модели среди доступных
когниграфу на данный момент прямых моделей с соответствующим монтажем и количеством
источников. В случае, если выбранный монтаж согласуется с именами каналов в данных,
кнопка <code class="docutils literal notranslate"><span class="pre">Ok</span></code> станет активной, и нажатие на нее установит прямую модель.</p>
</div>
<div class="section" id="id8">
<h3>Расчет новой прямой модели<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Второй способ установки прямой модели — посчитать новую с нуля.
Для этого необходимо установить анатомию в самой левой секции редактора (<code class="docutils literal notranslate"><span class="pre">Anatomy</span></code>),
либо выбрав анатомию уже доступного испытуемого в поле <code class="docutils literal notranslate"><span class="pre">Subject</span></code>, либо загрузив
новую анатомию, переключив радио-кнопку <code class="docutils literal notranslate"><span class="pre">Import</span> <span class="pre">anatomy</span></code> и выбрав соответствующую
папку при помощи кнопки <code class="docutils literal notranslate"><span class="pre">Browse</span></code>.</p>
<p>После того как анатомия установлена, в секции редактора под названием <code class="docutils literal notranslate"><span class="pre">Forward</span> <span class="pre">model</span></code>
необходимо переключиться на радио-кнопку <code class="docutils literal notranslate"><span class="pre">Compute</span> <span class="pre">forward</span></code>.
Далее в разделе редактора <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">montage</span> <span class="pre">and</span> <span class="pre">spacing</span></code>, необходимо установить
монтаж и количество источников для прямой модели, которую мы собираемся посчитать.
Согласованность выбранного монтажа с данными, как и в случае выбора прямой модели
по умолчанию, определяет доступность кнопки <code class="docutils literal notranslate"><span class="pre">Ok</span></code>.</p>
<p>При расчете новой прямой модели в секции редактора <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">montage</span> <span class="pre">and</span> <span class="pre">spacing</span></code>
доступна загрузка монтажа из файла, а также опция редактрования выбранного монтажа.
Чтобы отредактировать выбранный или загруженный монтаж, необходимо установить
галочку <code class="docutils literal notranslate"><span class="pre">Use</span> <span class="pre">custom</span> <span class="pre">montage</span></code> и кликнуть по кнопке <code class="docutils literal notranslate"><span class="pre">Edit</span></code>
(для работы с редактором см. <a class="reference internal" href="#id19">Редактор монтажа</a>).</p>
<p>После установки монтажа и количества источников в самой правой части редактора,
которая называется <code class="docutils literal notranslate"><span class="pre">Forward</span> <span class="pre">computation</span> <span class="pre">parameters</span></code>, можно добавить файл корегистрации
электродов с анатомией (при его наличии) а также уточнить значения проводимостей
для кожи головы, костей черепа и объема внутри черепной коробки (<code class="docutils literal notranslate"><span class="pre">Conductivities</span></code>).</p>
<p>В случае, если все параметры в порядке, кнопка <code class="docutils literal notranslate"><span class="pre">Ok</span></code> в правом нижнем углу редактора
станет активной. Нажатие на нее запустит расчет прямой модели.</p>
</div>
<div class="section" id="id9">
<h3>Импорт новой прямой модели<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>Помимо выбора из доступных прямых моделей и расчета новой можно также импортировать
уже имеющуюся прямую модель — радио-кнопка <code class="docutils literal notranslate"><span class="pre">Import</span> <span class="pre">forward</span></code> в разделе
<code class="docutils literal notranslate"><span class="pre">Forward</span> <span class="pre">model</span></code>. В случае, если имена каналов в загруженной прямой модели
согласуются с именами каналов в данных, кнопка <code class="docutils literal notranslate"><span class="pre">Ok</span></code> станет активна.</p>
<p>Выбор анатомии при этом также необходимо произвести по аналогии с предыдущим разделом.</p>
<p>По окончании инициализации в случае ее успешного завершения станет активна
кнопка <code class="docutils literal notranslate"><span class="pre">Start</span></code>, производящая запуск конвеера.</p>
</div>
</div>
</div>
<div class="section" id="id10">
<h1>Построение конвеера<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h1>
<p>Программа имеет модульную структуру –
ЭЭГ данные передаются в <strong>конвеер</strong> обработки, который пользователь может модифицировать,
добавляя или удаляя <strong>узлы</strong>. Каждый узел отвечает за определенный этап обработки сигнала.
При этом сигнал пропускается последовательно через все узлы конвеера, проходя стадии обработки,
и каждый следующий узел конвеера получает входной сигнал от предыдущего.</p>
<div class="section" id="id11">
<h2>Добавление узла<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<p>Для добавления узла обработки в конвеер необходимо кликнуть
левой кнопкой мыши по узлу, к которому необходимо добавить новый узел, в верхней части
<strong>редактора конвеера</strong> и выбрать соответствующй узел во всплывающем меню
через <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">node</span> <span class="pre">--&gt;</span> <span class="pre">&lt;Имя</span> <span class="pre">узла&gt;</span></code>. Доступные дочерние узлы варьируются в зависимости
от выбранного родительского узла.</p>
</div>
<div class="section" id="id12">
<h2>Удаление узла<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<p>Удаление возможно только для листовых узлов дерева конвеера.
Для удаления произвольного узла необхоимо сначала удалить все его дочерние узлы.
Удаление выполняется через правый клик по узлу в верхней части редактора конвеера
и нажатие на <code class="docutils literal notranslate"><span class="pre">Remove</span> <span class="pre">node</span></code> во всплывающем меню.</p>
</div>
<div class="section" id="id13">
<h2>Сохранение и загрузка конвеера<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<p>Для сохранения собранного конвеера необходимо нажать
<code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">--&gt;</span> <span class="pre">Save</span> <span class="pre">pipeline</span></code>.
Для загрузки сохраненного ранее конвеера — <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">--&gt;</span> <span class="pre">Load</span> <span class="pre">pipeline</span></code>.</p>
</div>
</div>
<div class="section" id="id14">
<h1>Предобработка данных<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h1>
<p>Для предобработки данных в программе реализованы процедуры
фильтрации и децимации сигнала, поиск плохих каналов и удаление
артефактов методом независимых компонент.</p>
<p>Для фильтрации сигнала в дерево конвеера небходимо добавить узел
<code class="docutils literal notranslate"><span class="pre">Linear</span> <span class="pre">Filter</span></code> и выставить верхний и нижний пороги фильтрации.
Все дочерние узлы по отношению к узлу-фильтру будут получать на вход фильтрованный сигнал.</p>
<p>Поиск плохих каналов и децимация сигнала осуществляются узлом <code class="docutils literal notranslate"><span class="pre">Preprocessing</span></code>.
Для поиска плохих каналов необходимо в настройках узла (нижняя часть редактора конвеера)
нажать на кнопку <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">bad</span> <span class="pre">channels</span></code>. После этого узел будет собирать сигнал в буфер для анализа
в течение времени, котрое регулируется параметром <code class="docutils literal notranslate"><span class="pre">Baseline</span> <span class="pre">duration</span></code>. На этапе сбора данных
сигнал проходит через узел <code class="docutils literal notranslate"><span class="pre">Preprocessing</span></code> без изменений.
По истечении времени сбора данных на основании выбросов
в собранных данных каналы помечаются как плохие
и исключаются из дальнейшей обработки. Сбросить плохие каналы можно кнопкой <code class="docutils literal notranslate"><span class="pre">Reset</span> <span class="pre">bads</span></code>.</p>
<p>Децимация сигнала осуществляется выставлением параметра <code class="docutils literal notranslate"><span class="pre">Downsample</span> <span class="pre">factor</span></code> в значение больше
единицы. Выставление этого параметра в двойку означает, что в данных будет оставлен только каждый
второй временной срез, в тройку - что каждый третий и т.д.</p>
<p>Удаление артефактов методом независимых компонент (ICA) осуществляется
узлом <code class="docutils literal notranslate"><span class="pre">ICA</span> <span class="pre">Rejection</span></code>. Этот узел может быть добавлен либо к узлу-источнику (<code class="docutils literal notranslate"><span class="pre">LSL</span> <span class="pre">Source</span> <span class="pre">Node</span></code>
либо <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">Source</span> <span class="pre">Node</span></code>) либо к узлу <code class="docutils literal notranslate"><span class="pre">Preprocessing</span></code>.
После добавления этого узла и инициализации конвеера необходимо начать сбор данных
кнопкой <code class="docutils literal notranslate"><span class="pre">Collect</span> <span class="pre">data</span></code> в настройках узла. Сбор данных происходит в течение времени,
которое задается параметром <code class="docutils literal notranslate"><span class="pre">ICA</span> <span class="pre">duration</span></code> по аналогии с узлом <code class="docutils literal notranslate"><span class="pre">Preprocessing</span></code>.
По окончании сбора данных узел произведет ICA-разложение собранных данных и откроет
окно, в котором пользователю необходимо выбрать компоненты, которые он считает артефактными,
на основании их топографий, временных рядов и спектров. После выбора компонент необходимо нажать
кнопку <code class="docutils literal notranslate"><span class="pre">Reject</span> <span class="pre">selection</span></code>. После закрытия окна выбора компонент выбранные компоненты будут удаляться из данных. Выбрать дополнительные компоненты на основании уже имеющегося ICA-разложения можно
кнопкой <code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">ICA</span> <span class="pre">components</span></code>. Чтобы очистить разложение на независимые компоненты,
необходимо нажать <code class="docutils literal notranslate"><span class="pre">Reset</span> <span class="pre">ICA</span> <span class="pre">decomposition</span></code>.</p>
</div>
<div class="section" id="id15">
<h1>Расчет источников<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h1>
<p>Расчет источников в зависимости от желаемого метода осуществляется тремя узлами:
<code class="docutils literal notranslate"><span class="pre">Beamformer</span></code>, <code class="docutils literal notranslate"><span class="pre">MNE</span></code> и <code class="docutils literal notranslate"><span class="pre">MCE</span></code>.</p>
<p>Узел <code class="docutils literal notranslate"><span class="pre">Beamformer</span></code> осуществляет оценку источников методом LCMV и доступен в двух версиях:
адаптивной и неадаптивной. Переключение между версиями осуществляется галочкой <code class="docutils literal notranslate"><span class="pre">Use</span> <span class="pre">adaptive</span> <span class="pre">version</span></code> в настройках узла. Неадаптивная версия алгоритма использует всегда одну и ту же предустановленную матрицу ковариации данных, а адаптивная рассчитывает матрицу ковариации по вновь пришедшим данным
с “забыванием” (вновь пришедшие данные дают больший вклад в матрицу ковариации, чем старые).
Скорость забывания регулируется параметром <code class="docutils literal notranslate"><span class="pre">Forgetting</span> <span class="pre">factor</span> <span class="pre">per</span> <span class="pre">second</span></code> — чем он больше,
тем быстрее происходит забывание. Также в настройках узла <code class="docutils literal notranslate"><span class="pre">Beamformer</span></code> доступна опция
изменения параметра регуляризации <code class="docutils literal notranslate"><span class="pre">reg</span></code> (чем он больше,
тем более размытое, но и стабильное получается решение), а также <code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">type</span></code>,
который регулирует тип выходного сигнала: <code class="docutils literal notranslate"><span class="pre">power</span></code> — мощность, <code class="docutils literal notranslate"><span class="pre">activation</span></code> — активация.
Галочка <code class="docutils literal notranslate"><span class="pre">Prewhiten</span></code> включает предварительное отбеливание данных,
что иногда приводит к более качественному решению за счет небольшого замедления работы узла.</p>
<p>Узел <code class="docutils literal notranslate"><span class="pre">MNE</span></code> реализует сразу три метода решения обратной задачи — классический метод Minimum
Norm Estimate и его модификации dSPM и sLORETA.
Переключение между методами осуществляется при помощи переключателя <code class="docutils literal notranslate"><span class="pre">Method</span></code>.</p>
<p>Узел <code class="docutils literal notranslate"><span class="pre">MCE</span></code> решает обратную задачу методом Minimum Current Estimate.</p>
</div>
<div class="section" id="id16">
<h1>Визуализация источников и сигналов<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h1>
<p>Для визуализации временных рядов, получаемых на выходе узла, к узлу необходимо добавить
дочерний узел <code class="docutils literal notranslate"><span class="pre">Signal</span> <span class="pre">Viewer</span></code>.</p>
<p>Визуализация активности источников на коре реализована в узле <code class="docutils literal notranslate"><span class="pre">Brain</span> <span class="pre">Viewer</span></code>.
Для более гладкой визуализации перед узлом <code class="docutils literal notranslate"><span class="pre">Brain</span> <span class="pre">Viewer</span></code> имеет смысл добавлять
узел <code class="docutils literal notranslate"><span class="pre">Envelope</span> <span class="pre">Extractor</span></code>, который сглаживает сигнал по времени, извлекая его огибающую.
Параметр <code class="docutils literal notranslate"><span class="pre">factor</span></code> в его настройках управляет степенью сглаживания — чем он больше, тем сильнее
сглаживание.
Настройки узла <code class="docutils literal notranslate"><span class="pre">Brain</span> <span class="pre">Viewer</span></code> позволяют управлять цветовой шкалой, а также пороговым значением,
ниже которого источники не отображаются. Кроме того, нажав на кнопку <code class="docutils literal notranslate"><span class="pre">Record</span> <span class="pre">gif</span></code>,
можно записать текущую отображаемую активность в .gif формате. Вместе с .gif-файлом будет
сохранен файл с временными метками отображаемой в анимации активности.</p>
</div>
<div class="section" id="id17">
<h1>Оценка и визуализация коннективности<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h1>
<p>Оценка коннективности в программе возможна в двух режимах: “все со всеми” и коннективность
с выбранным источником.</p>
<p>Для расчета коннективности в первом режиме к любому узлу, решающему обратную задачу,
необходимо сначала добавить узел <code class="docutils literal notranslate"><span class="pre">Atlas</span> <span class="pre">Viewer</span></code>, и выбрать в нем при помощи кнопки
<code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">ROI</span></code> зоны, для которых будет измеряться коннективность.
Далее к узлу <code class="docutils literal notranslate"><span class="pre">Atlas</span> <span class="pre">Viewer</span></code> необходимо добавить узел <code class="docutils literal notranslate"><span class="pre">Coherence</span></code>, который рассчитывает
когерентность между выбранными зонами, и наконец, для визуализации к узлу <code class="docutils literal notranslate"><span class="pre">Coherence</span></code> необходимо
добавить узел <code class="docutils literal notranslate"><span class="pre">Connectivity</span> <span class="pre">Viewer</span></code>.
Этот узел  отображает <code class="docutils literal notranslate"><span class="pre">number</span> <span class="pre">of</span> <span class="pre">connections</span></code> самых сильных связей между выбранными
областями. Яркость линии кодирует силу связи.</p>
<p>Для расчета коннективности с выбранным источником к любому узлу, решающему обратную задачу,
необходимо добавить узел <code class="docutils literal notranslate"><span class="pre">Seed</span> <span class="pre">Coherence</span></code>.
Выбор источника, с которым будет измеряться коннективность осуществляется кнопкой
<code class="docutils literal notranslate"><span class="pre">Select</span> <span class="pre">seed</span></code> в настройках узла. Далее для визуализации необходимо добавить узел
<code class="docutils literal notranslate"><span class="pre">Brain</span> <span class="pre">Viewer</span></code>, либо сразу, либо после добавления <code class="docutils literal notranslate"><span class="pre">Envelope</span> <span class="pre">Extractor</span></code></p>
</div>
<div class="section" id="id18">
<h1>Вывод активности в файл<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h1>
<p>Для вывода выходного сигнала любого узла к нему необходимо добавить
узел <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">Output</span></code>. Для выбора файла, в который будет производиться запись
необходимо нажать на кнопку <code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">path</span></code>. Для начала записи — на кнопку
<code class="docutils literal notranslate"><span class="pre">Start</span></code>, для окончания – <code class="docutils literal notranslate"><span class="pre">Stop</span></code>. При повторном нажатии на <code class="docutils literal notranslate"><span class="pre">Start</span></code> файл будет перезаписан.
Выходной файл записывается в формате hdf5 при помощи пакета pytables.
Читать его рекомендуется при помощи той же библиотеки.</p>
<p>В файл записывается как сама активность, так и временные метки, а также имена каналов,
частота дискретизации и координаты источников в случае, если
среди потомков данного выходного узла есть узлы, решающие обратную задачу.</p>
</div>
<div class="section" id="id19">
<h1>Редактор монтажа<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h1>
<p>Редактор монтажа позволяет переименовать каналы в выбранном монтаже, чтобы они соответствовали
именам каналов в данных.
Переименование необходимо в том числе для того, чтобы сопоставить электродам из данных
положения на голове испытуемого.</p>
<p>Редактор монтажа содержит два списка, кнопки для редакции имен каналов в прямой модели,
и виджет, отображающий положения электродов на голове испытуемого.
Именам электродов, взятым их данных, в редакторе монтажа соответствует левый список.
Правый список содержит имена, которые будут записаны во вновь созданный монтаж.
В случае, если имя из левого списка и имя из правого списка, соответствующие
одному и тому же порядковому номеру, совпадают, это имя в левом и правом списке
окрашиваются в зеленый цвет. При этом каналу из данных сопоставляется
положение (возможно перименованного) электрода из редактируемого монтажа.</p>
<p>Редактор монтажа позволяет успешно закончить редактирование (кнопка Ок становится активной)
в случае, если по крайней мере 20% всех каналов из данных сопоставлены с именами из редактируемого
монтажа.</p>
<p>Для редактирования имен каналов и их порядка предусмотрены следующие средства:</p>
<ol class="arabic simple">
<li><p><strong>Двойной клик по имени канала из правого списка</strong>. Позволяет отредактировать
имя одного канала.</p></li>
<li><p><strong>Drag and drop каналов из правого списка</strong>. Позволяет передвинуть один или несколько каналов.</p></li>
<li><p><strong>Кнопки</strong> <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">prefix\Add</span> <span class="pre">suffix</span></code>. Одновременно для всех выделенных (или вообще для всех, если выделение отсутствует) каналов из правого списка позволяет добавить общую строку в начало или конец. Например, если в данных каналы названы по схеме “EEG TP9, EEG Fz, EEG Cz” и т.д., а в монтаже имеются каналы “TP9, Fz, Cz …”, кликнув на <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">prefix</span></code> и дописав “EEG ” в появившейся строке ввода, можем добавить соответствующую открывающую строку ко всем именам каналов из редактируемого монтажа.</p></li>
<li><p><strong>Кнопки</strong> <code class="docutils literal notranslate"><span class="pre">Del</span> <span class="pre">prefix\Del</span> <span class="pre">suffix</span></code>. Позволяют удалить общую начальную или конечную строку для всех выделенных (или вообще для всех, если выделения нет) каналов из правого списка.</p></li>
<li><p><strong>Кнопка</strong> <code class="docutils literal notranslate"><span class="pre">Sort</span></code>. Сортирует каналы в правом списке.</p></li>
<li><p><strong>Кнопка</strong> <code class="docutils literal notranslate"><span class="pre">Align</span></code>. Автоматически ставит на нужные позиции каналы из редактируемого монтажа,
если они есть в данных.</p></li>
<li><p><strong>Кнопка</strong> <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code>. По порядку присваивает каналам из правого списка имена из левого списка.</p></li>
<li><p><strong>Кнопка</strong> <code class="docutils literal notranslate"><span class="pre">Reset</span></code>. Возвращает каналы из правого списка к исходному состоянию.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Имена каналов из левого и правого списка в редакторе монтажа, как и во всей остальной
программе, сравниваются в верхнем регистре, т.е. Tp9 и TP9 считается одним и тем же каналом
и не нуждается в переименовании</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>